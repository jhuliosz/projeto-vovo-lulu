<!DOCTYPE html>

<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Mini Pasteizinhos da Vovó Lulu | Delivery de Salgados Artesanais</title>
<script src="/services/getData.js"></script>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&amp;family=Nunito:wght@400;600;700&amp;display=swap" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet"/>
<style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #FCEBD5;
        }

        .title-font {
            font-family: 'Nunito', sans-serif;
        }

        .cart-open {
            transform: translateX(0);
        }

        .cart-closed {
            transform: translateX(100%);
        }

        .floating-btn {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
    /* Botões flutuantes atrás do carrinho apenas quando ele estiver aberto (mobile e desktop) */
#cart-sidebar.cart-open ~ .fixed.right-6 {
  z-index: 40 !important;   /* abaixo do carrinho (z-50) */
  pointer-events: none;      /* evita clique por baixo do carrinho */
}

    </style>
</head>
<body class="text-[#5C4033]">
<header class="bg-[#FCEBD5] text-[#5C4033] shadow-md py-4 px-4 md:px-8">
<!-- Header MOBILE -->
<div class="flex items-center justify-between md:hidden relative">
<!-- Menu hambúrguer à esquerda -->
<button id="menu-btn" title="menu-hmb">
<i class="fas fa-bars text-2xl"></i>
</button>
<!-- Logo centralizado -->
<div class="absolute left-1/2 transform -translate-x-1/2">
<img alt="Logo" class="h-16" src="IMG/Logo2.png"/>
</div>
<!-- Carrinho à direita -->
<button class="relative cart-btn">
<img alt="Carrinho" class="w-9 h-9 object-contain" loading="lazy" src="IMG/CarrinhoDesktop.png"/>
<span class="absolute -top-2 -right-2 bg-[#E63946] text-white rounded-full w-5 h-5 flex items-center justify-center text-xs" id="cart-count">0</span>
</button>
</div>
<!-- Header DESKTOP -->
<div class="hidden md:flex justify-between items-center max-w-7xl mx-auto relative">
<!-- Logo à esquerda -->
<div class="flex items-center space-x-4">
<img alt="Logo" class="h-24 md:h-32" src="IMG/Logo2.png"/>
</div>
<!-- Menu central -->
<nav class="absolute inset-y-0 left-1/2 -translate-x-1/2 flex items-center space-x-8 text-lg font-medium">
<a class="hover:text-[#E63946] transition" href="index.html">Início</a>
<a class="hover:text-[#E63946] transition" href="AboutUs.html">Sobre Nós</a>
</nav>
<!-- Carrinho à direita -->
<div>
<button class="relative cart-btn">
<img alt="Carrinho" class="w-20 h-20 object-contain" loading="lazy" src="IMG/CarrinhoDesktop.png"/>
<span class="absolute -top-2 -right-2 bg-[#E63946] text-white rounded-full w-5 h-5 flex items-center justify-center text-xs" id="cart-count">0</span>
</button>
</div>
</div>
</header>
<!-- Menu lateral mobile -->

<!-- Main Content -->
<main class="container mx-auto px-4 py-8 pb-24">
<!-- Promo Banner -->
<section class="mb-12 rounded-xl overflow-hidden shadow-lg">
<div class="bg-gradient-to-r from-[#E63946] to-[#F4A261] p-6 md:p-10 text-white">
<h2 class="title-font text-2xl md:text-4xl font-bold mb-2">PROMOÇÕES DO DIA</h2>
<p class="text-lg md:text-xl mb-4">Combo Família: 20 pasteizinhos + 2 litros de suco por apenas R$ 59,90
                </p>
<button class="bg-white text-[#E63946] px-6 py-2 rounded-full font-bold hover:bg-[#FCEBD5] transition" id="comboFamilia" type="button">Peça
                    Agora</button>
</div>
</section>
<!-- Categories -->
<section class="mb-12 hidden md:block">
<h2 class="title-font text-2xl font-bold mb-6 text-center">Nossas Delícias</h2>
<div class="grid grid-cols-2 gap-4 sm:grid-cols-3 lg:grid-cols-5 xl:grid-cols-5 2xl:grid-cols-5"><a class="category-card bg-white rounded-xl p-4 text-center shadow-md hover:shadow-lg transition w-full shrink-0" data-filter="todos" href="#todos"><div class="bg-[#5C4033] rounded-full w-16 h-16 mx-auto mb-3 flex items-center justify-center">
<img alt="Todos" class="w-12 h-12 object-contain pointer-events-none" draggable="false" loading="lazy" src="IMG/Todos.png"/></div>
<h3 class="font-semibold">Todos</h3></a>
<a class="category-card bg-white rounded-xl p-4 text-center shadow-md hover:shadow-lg transition w-full shrink-0" data-filter="assados" href="#assados">
<div class="bg-[#5C4033] rounded-full w-16 h-16 mx-auto mb-3 flex items-center justify-center">
<img alt="Assados" class="w-12 h-12 object-contain pointer-events-none" draggable="false" loading="lazy" src="IMG/Assados.png"/>
</div>
<h3 class="font-semibold">Assados</h3>
</a>
<a class="category-card bg-white rounded-xl p-4 text-center shadow-md hover:shadow-lg transition w-full shrink-0" data-filter="fritos" href="#fritos">
<div class="bg-[#5C4033] rounded-full w-16 h-16 mx-auto mb-3 flex items-center justify-center">
<img alt="Fritos" class="w-12 h-12 object-contain pointer-events-none" draggable="false" loading="lazy" src="IMG/Fritos.png"/>
</div>
<h3 class="font-semibold">Fritos</h3>
</a>
<a class="category-card bg-white rounded-xl p-4 text-center shadow-md hover:shadow-lg transition w-full shrink-0" data-filter="combos" href="#combos">
<div class="bg-[#5C4033] rounded-full w-16 h-16 mx-auto mb-3 flex items-center justify-center">
<img alt="Combos" class="w-12 h-12 object-contain pointer-events-none" draggable="false" loading="lazy" src="IMG/Combos.png"/>
</div>
<h3 class="font-semibold">Combos</h3>
</a>
<a class="category-card bg-white rounded-xl p-4 text-center shadow-md hover:shadow-lg transition w-full shrink-0" data-filter="bebidas" href="#bebidas">
<div class="bg-[#5C4033] rounded-full w-16 h-16 mx-auto mb-3 flex items-center justify-center">
<img alt="Bebidas" class="w-12 h-12 object-contain pointer-events-none" draggable="false" loading="lazy" src="IMG/Bebidas.png"/>
</div>
<h3 class="font-semibold">Bebidas</h3>
</a>
</div>
</section>
<!-- Products -->
<section>
<section class="mb-12" data-section="destaques"><h2 class="title-font text-2xl font-bold mb-6">Os salgados mais pedidos da vovó Lulu</h2><div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 grid-cols-1 sm:grid-cols-2">
<!-- Product 1 -->
<div class="product-card bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg transition" data-categoria="fritos">
<div class="h-100">
<img alt="Mini coxinhas de frango suculentas" class="w-full h-100 object-cover rounded-t-xl" src="IMG/coxinha1.png"/>
</div>
<div class="p-4">
<h3 class="font-bold text-xl mb-2">Coxinha de Frango (6 unid.)</h3>
<p class="text-gray-600 mb-4">Crocante por fora, macia por dentro com recheio de frango
                            desfiado.</p>
<div class="flex justify-between items-center">
<span class="font-bold text-lg">R$ 18,90</span>
<div class="flex items-center">
<button class="quantity-btn minus bg-[#5C4033] text-white w-8 h-8 rounded-l-full">-</button>
<span class="quantity bg-[#FCEBD5] w-10 h-8 flex items-center justify-center">1</span>
<button class="quantity-btn plus bg-[#5C4033] text-white w-8 h-8 rounded-r-full">+</button>
</div>
</div>
<button class="add-to-cart mt-4 w-full bg-[#3C6E47] text-white py-2 rounded-full font-semibold hover:bg-[#2d5536] transition">
                            Adicionar ao Carrinho
                        </button>
</div>
</div>
<!-- Product 2 -->
<div class="product-card bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg transition" data-categoria="fritos">
<div class="h-100">
<img alt="Mini boloinhos de queijo suculentas" class="w-full h-100 object-cover rounded-t-xl" src="IMG/Bolinho_queijo.png"/>
</div>
<div class="p-4">
<h3 class="font-bold text-xl mb-2">Bolinho de Carne (10 unid.)</h3>
<p class="text-gray-600 mb-4">Massa crocante com recheio de carne moída temperada.</p>
<div class="flex justify-between items-center">
<span class="font-bold text-lg">R$ 22,90</span>
<div class="flex items-center">
<button class="quantity-btn minus bg-[#5C4033] text-white w-8 h-8 rounded-l-full">-</button>
<span class="quantity bg-[#FCEBD5] w-10 h-8 flex items-center justify-center">1</span>
<button class="quantity-btn plus bg-[#5C4033] text-white w-8 h-8 rounded-r-full">+</button>
</div>
</div>
<button class="add-to-cart mt-4 w-full bg-[#3C6E47] text-white py-2 rounded-full font-semibold hover:bg-[#2d5536] transition">
                            Adicionar ao Carrinho
                        </button>
</div>
</div>
<!-- Product 3 -->
<div class="product-card bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg transition" data-categoria="bebidas">
<div class="h-100">
<img alt="MRefrigerantes" class="w-full h-100 object-cover rounded-t-xl" src="IMG/Refri.png"/>
</div>
<div class="p-4">
<h3 class="font-bold text-xl mb-2">Refrigerante 350ml</h3>
<p class="text-gray-600 mb-4">Escolha o sabor do seu refrigerante favorito:</p>
<div class="flex justify-between items-center">
<span class="font-bold text-lg">R$ 6,50</span>
<div class="flex items-center">
</div>
</div>
<button class="choose-flavor mt-4 w-full bg-[#3C6E47] text-white py-2 rounded-full font-semibold hover:bg-[#2d5536] transition" type="button">
                            Escolher Sabor
                        </button>
</div>
</div>
<!-- Product 4 -->
<div class="product-card bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg transition" data-categoria="bebidas">
<div class="h-100">
<img alt="Mini coxinhas de frango suculentas" class="w-full h-100 object-cover rounded-t-xl" src="IMG/coxinha1.png"/>
</div>
<div class="p-4">
<h3 class="font-bold text-xl mb-2">Suco Natural (500ml)</h3>
<p class="text-gray-600 mb-4">Suco natural feito na hora. Sabores: laranja, abacaxi ou maracujá.
                        </p>
<div class="flex justify-between items-center">
<span class="font-bold text-lg">R$ 8,50</span>
<div class="flex items-center">
<button class="quantity-btn minus bg-[#5C4033] text-white w-8 h-8 rounded-l-full">-</button>
<span class="quantity bg-[#FCEBD5] w-10 h-8 flex items-center justify-center">1</span>
<button class="quantity-btn plus bg-[#5C4033] text-white w-8 h-8 rounded-r-full">+</button>
</div>
</div>
<button class="add-to-cart mt-4 w-full bg-[#3C6E47] text-white py-2 rounded-full font-semibold hover:bg-[#2d5536] transition">
                            Adicionar ao Carrinho
                        </button>
</div>
</div>
<!-- Product 5 -->
</div></section><section class="mb-12" data-section="assados"><h2 class="title-font text-2xl font-bold mb-6">Salgados assados da Vovó Lulu</h2><div class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></div></section><section class="mb-12" data-section="fritos"><h2 class="title-font text-2xl font-bold mb-6">Salgados fritos da vovó Lulu</h2><div class="grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 grid-cols-1"><div class="product-card bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg transition" data-categoria="fritos">
<div class="h-100">
<img alt="Mini coxinhas de frango suculentas" class="w-full h-100 object-cover rounded-t-xl" src="IMG/coxinha1.png"/>
</div>
<div class="p-4">
<h3 class="font-bold text-xl mb-2">Coxinha de Frango (6 unid.)</h3>
<p class="text-gray-600 mb-4">Crocante por fora, macia por dentro com recheio de frango
                            desfiado.</p>
<div class="flex justify-between items-center">
<span class="font-bold text-lg">R$ 18,90</span>
<div class="flex items-center">
<button class="quantity-btn minus bg-[#5C4033] text-white w-8 h-8 rounded-l-full">-</button>
<span class="quantity bg-[#FCEBD5] w-10 h-8 flex items-center justify-center">1</span>
<button class="quantity-btn plus bg-[#5C4033] text-white w-8 h-8 rounded-r-full">+</button>
</div>
</div>
<button class="add-to-cart mt-4 w-full bg-[#3C6E47] text-white py-2 rounded-full font-semibold hover:bg-[#2d5536] transition">
                            Adicionar ao Carrinho
                        </button>
</div>
</div><div class="product-card bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg transition" data-categoria="fritos">
<div class="h-100">
<img alt="Mini boloinhos de queijo suculentas" class="w-full h-100 object-cover rounded-t-xl" src="IMG/Bolinho_queijo.png"/>
</div>
<div class="p-4">
<h3 class="font-bold text-xl mb-2">Bolinho de Carne (10 unid.)</h3>
<p class="text-gray-600 mb-4">Massa crocante com recheio de carne moída temperada.</p>
<div class="flex justify-between items-center">
<span class="font-bold text-lg">R$ 22,90</span>
<div class="flex items-center">
<button class="quantity-btn minus bg-[#5C4033] text-white w-8 h-8 rounded-l-full">-</button>
<span class="quantity bg-[#FCEBD5] w-10 h-8 flex items-center justify-center">1</span>
<button class="quantity-btn plus bg-[#5C4033] text-white w-8 h-8 rounded-r-full">+</button>
</div>
</div>
<button class="add-to-cart mt-4 w-full bg-[#3C6E47] text-white py-2 rounded-full font-semibold hover:bg-[#2d5536] transition">
                            Adicionar ao Carrinho
                        </button>
</div>
</div></div></section><section class="mb-12" data-section="combos"><h2 class="title-font text-2xl font-bold mb-6">Combos de salgados da Vovó Lulu</h2><div class="grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 grid-cols-1">
<div class="product-card bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg transition" data-categoria="combos">
<div class="h-100">
<img alt="Combo 40 Salgados 10g" class="w-full h-100 object-cover rounded-t-xl" src="IMG/Combo1.png"/>
</div>
<div class="p-4">
<h3 class="font-bold text-xl mb-2">Combo 40 salgados 10g</h3>
<p class="text-gray-600 mb-2">Monte seu combo em múltiplos de 5 (total: 40).</p>
<div class="flex justify-between items-center">
<span class="font-bold text-lg">R$ 35,90</span>
</div>
<button class="choose-combo40 mt-4 w-full bg-[#3C6E47] text-white py-2 rounded-full font-semibold hover:bg-[#2d5536] transition" type="button">
      Escolher Sabores
    </button>
</div>
</div>
</div></section><section class="mb-12" data-section="bebidas"><h2 class="title-font text-2xl font-bold mb-6">Bebidas da vovó Lulu</h2><div class="grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 grid-cols-1"><div class="product-card bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg transition" data-categoria="bebidas">
<div class="h-100">
<img alt="MRefrigerantes" class="w-full h-100 object-cover rounded-t-xl" src="IMG/Refri.png"/>
</div>
<div class="p-4">
<h3 class="font-bold text-xl mb-2">Refrigerante 350ml</h3>
<p class="text-gray-600 mb-4">Escolha o sabor do seu refrigerante favorito:</p>
<div class="flex justify-between items-center">
<span class="font-bold text-lg">R$ 6,50</span>
<div class="flex items-center">
</div>
</div>
<button class="choose-flavor mt-4 w-full bg-[#3C6E47] text-white py-2 rounded-full font-semibold hover:bg-[#2d5536] transition" type="button">
                            Escolher Sabor
                        </button>
</div>
</div><div class="product-card bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg transition" data-categoria="bebidas">
<div class="h-100">
<img alt="Mini coxinhas de frango suculentas" class="w-full h-100 object-cover rounded-t-xl" src="IMG/coxinha1.png"/>
</div>
<div class="p-4">
<h3 class="font-bold text-xl mb-2">Suco Natural (500ml)</h3>
<p class="text-gray-600 mb-4">Suco natural feito na hora. Sabores: laranja, abacaxi ou maracujá.
                        </p>
<div class="flex justify-between items-center">
<span class="font-bold text-lg">R$ 8,50</span>
<div class="flex items-center">
<button class="quantity-btn minus bg-[#5C4033] text-white w-8 h-8 rounded-l-full">-</button>
<span class="quantity bg-[#FCEBD5] w-10 h-8 flex items-center justify-center">1</span>
<button class="quantity-btn plus bg-[#5C4033] text-white w-8 h-8 rounded-r-full">+</button>
</div>
</div>
<button class="add-to-cart mt-4 w-full bg-[#3C6E47] text-white py-2 rounded-full font-semibold hover:bg-[#2d5536] transition">
                            Adicionar ao Carrinho
                        </button>
</div>
</div></div></section>
</section>
</main>
<!-- Shopping Cart Sidebar -->
<div class="fixed top-0 right-0 w-full md:w-96 h-full bg-white shadow-2xl z-50 transition-transform duration-300 ease-in-out cart-closed overflow-y-auto" id="cart-sidebar">
<div class="p-6 pb-28 md:pb-6">
<div class="flex justify-between items-center mb-6">
<h2 class="title-font text-2xl font-bold">Seu Carrinho</h2>
<button class="text-gray-500 hover:text-gray-700" id="close-cart" title="close-carrinhomenu">
<i class="fas fa-times text-2xl"></i>
</button>
</div>
<div class="mb-6" id="cart-items">
<!-- Cart items will be added here dynamically -->
<div class="text-center py-10">
<img alt="Carrinho" class="w-20 h-20 object-contain" loading="lazy" src="IMG/CarrinhoDesktop.png"/>
<p class="text-gray-500">Seu carrinho está vazio</p>
</div>
</div>
<div class="border-t pt-4">
<div class="flex justify-between mb-2">
<span>Subtotal:</span>
<span id="subtotal">R$ 0,00</span>
</div>
<div class="flex justify-between mb-2">
<span>Taxa de Entrega:</span>
<span id="delivery-fee">R$ 5,00</span>
</div>
<div class="flex justify-between font-bold text-lg">
<span>Total:</span>
<span id="total">R$ 5,00</span>
</div>
<!-- Botão LIMPAR com espaçamento acima -->
<button class="w-full bg-red-500 text-white py-3 rounded-full font-bold mt-2 hover:bg-red-600 transition" id="clear-cart-btn">
                    Limpar Carrinho
                </button>
<!-- Botão FINALIZAR com espaçamento abaixo -->
<button class="w-full bg-[#3C6E47] text-white py-3 rounded-full font-bold mt-4 hover:bg-[#2d5536] transition" id="checkout-btn">
                    Finalizar Pedido
                </button>
</div>
</div>
</div>
<!-- Checkout Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden" id="checkout-modal">
<div class="bg-white rounded-xl p-6 w-full max-w-md mx-4">
<div class="flex justify-between items-center mb-4">
<h2 class="title-font text-2xl font-bold">Finalizar Pedido</h2>
<button class="text-gray-500 hover:text-gray-700" id="close-checkout" title="close-fp">
<i class="fas fa-times text-2xl"></i>
</button>
</div>
<form id="checkout-form">
<div class="mb-4">
<label class="block mb-1 font-medium" for="name">Nome Completo</label>
<input class="w-full p-2 border rounded" id="name" required="" type="text"/>
</div>
<div class="mb-4">
<label class="block mb-1 font-medium" for="phone">Telefone</label>
<input class="w-full p-2 border rounded" id="phone" required="" type="tel"/>
</div>
<div class="mb-4">
<label class="block mb-1 font-medium" for="address">Endereço</label>
<textarea class="w-full p-2 border rounded" id="address" required="" rows="3"></textarea>
</div>
<div class="mb-6">
<label class="block mb-2 font-medium">Método de Pagamento</label>
<div class="space-y-2">
<label class="flex items-center">
<input checked="" class="mr-2" name="payment" type="radio" value="Dinheiro"/>
<span>Dinheiro</span>
</label>
<label class="flex items-center">
<input class="mr-2" name="payment" type="radio" value="PIX"/>
<span>PIX</span>
</label>
<label class="flex items-center">
<input class="mr-2" name="payment" type="radio" value="Cartão"/>
<span>Cartão</span>
</label>
</div>
</div>
<button class="w-full bg-[#3C6E47] text-white py-3 rounded-full font-bold hover:bg-[#2d5536] transition" type="submit">
                    Confirmar Pedido
                </button>
</form>
</div>
</div>
<!-- Order Confirmation Modal -->
<div class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden" id="confirmation-modal">
<div class="bg-white rounded-xl p-6 w-full max-w-md mx-4">
<div class="text-center">
<div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
<i class="fas fa-check text-green-500 text-2xl"></i>
</div>
<h2 class="title-font text-2xl font-bold mb-2">Pedido Confirmado!</h2>
<p class="mb-4">Obrigado por seu pedido na Vovó Lulu!</p>
<div class="text-left mb-6 p-4 bg-gray-50 rounded" id="order-details">
<!-- Order details will be added here -->
</div>
<p class="mb-4">Seu pedido será preparado com carinho e entregue em breve.</p>
<a class="inline-block bg-green-500 text-white px-6 py-2 rounded-full font-bold hover:bg-green-600 transition mb-3" href="https://wa.me/5511953717180" id="whatsapp-btn" rel="noopener" target="_blank">
<i class="fab fa-whatsapp mr-2"></i> Enviar via WhatsApp
                </a>
<button class="block w-full text-[#5C4033] font-medium mt-4" id="close-confirmation">
                    Fechar
                </button>
</div>
</div>
</div>
<!-- Floating Buttons -->
<div class="fixed z-50 right-6 flex flex-col items-end space-y-3" style="bottom: 90px;">
<a class="floating-btn w-14 h-14 bg-green-500 text-white rounded-full flex items-center justify-center text-2xl hover:bg-green-600 transition" href="https://wa.me/5511953717180" rel="noopener" style="position: fixed; bottom: 90px; right: 24px;" target="_blank">
<i class="fab fa-whatsapp"></i>
</a>
<a class="floating-btn w-14 h-14 bg-[#E63946] text-white rounded-full flex items-center justify-center text-2xl hover:bg-red-600 transition" href="https://www.ifood.com.br/delivery/sao-paulo-sp/mini-pasteizinhos-da-vovo-lulu-jardim-seckler/d34fe3e6-c0b7-4375-b863-b5e6a7360779" rel="noopener" style="position: fixed; bottom: 150px; right: 24px;" target="_blank">
<img src="./IMG/ifoodicon.webp" title="ifoodicon"/>
</a>
</div>
<!-- Overlay -->
<div class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden" id="overlay"></div>
<script src="cart.js"></script>
<script>
        // Mobile Menu Toggle
        //Cart.updateCart();
        const menuBtn = document.getElementById('menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');

        menuBtn.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        // Cart Functionality
        // Cart Functionality
        const cartBtns = document.querySelectorAll('.cart-btn'); // pega todos os botões com classe 'cart-btn'
        const closeCartBtn = document.getElementById('close-cart');
        const cartSidebar = document.getElementById('cart-sidebar');
        const overlay = document.getElementById('overlay');
        const cartCounts = document.querySelectorAll('#cart-count, .cart-count');
        const checkoutBtn = document.getElementById('checkout-btn');
        const closeCheckoutBtn = document.getElementById('close-checkout');
        const checkoutModal = document.getElementById('checkout-modal');
        const closeConfirmationBtn = document.getElementById('close-confirmation');
        const confirmationModal = document.getElementById('confirmation-modal');
        const checkoutForm = document.getElementById('checkout-form');
        const orderDetails = document.getElementById('order-details');
        const whatsappBtn = document.getElementById('whatsapp-btn');
        const clearCartBtn = document.getElementById('clear-cart-btn');
        


        let cart = [];
        let subtotal = 0;
        const deliveryFee = 5;

        // Toggle Cart
        function toggleCart() {
            cartSidebar.classList.toggle('cart-closed');
            cartSidebar.classList.toggle('cart-open');
            overlay.classList.toggle('hidden');
            document.body.classList.toggle('overflow-hidden');
        }

        // ✅ CORRETO: aplica evento a todos os botões do carrinho
        cartBtns.forEach(btn => {
            btn.addEventListener('click', Cart.toggleCart);
        });
        closeCartBtn.addEventListener('click', Cart.toggleCart);
        overlay.addEventListener('click', Cart.toggleCart);


        // Add to Cart
        document.querySelectorAll('.add-to-cart').forEach(button => {
            button.addEventListener('click', function () {
                var productCard = this.closest('.product-card');
                var productName = productCard.querySelector('h3').textContent;
                var productPrice = parseFloat(productCard.querySelector('span').textContent.replace('R$ ', '').replace(',', '.'));

                let quantity = 1;

                // Check if it's a combo
                if (productCard.querySelector('.combo-input')) {
                    const comboInputs = productCard.querySelectorAll('.combo-input');
                    var comboItems = [];

                    comboInputs.forEach(input => {
                        const itemName = input.previousElementSibling.textContent.replace(':', '').trim();
                        const itemQuantity = parseInt(input.value);

                        if (itemQuantity > 0) {
                            comboItems.push(`${itemQuantity} ${itemName}`);
                        }
                    });

                    if (comboItems.length > 0) {
                        productName = `Combo Variado (${comboItems.join(', ')})`;
                    } else {
                        alert('Selecione pelo menos um item para o combo!');
                        return;
                    }
                } else {
                    quantity = parseInt(productCard.querySelector('.quantity').textContent);
                }

                const product = {
                    name: productName,
                    price: productPrice,
                    quantity: quantity
                };

                Cart.addItem(product);

            });
        });
        document.getElementById('comboFamilia').addEventListener('click', ()=>{
            Cart.addItem({
                name: "Combo Familia",
                price: 59.90,
                quantity: 1
            });

        });
        
        // Quantity Buttons
        document.querySelectorAll('.quantity-btn').forEach(button => {
            button.addEventListener('click', function () {
                const quantityElement = this.parentElement.querySelector('.quantity');
                let quantity = parseInt(quantityElement.textContent);

                if (this.classList.contains('minus') && quantity > 1) {
                    quantity--;
                } else if (this.classList.contains('plus')) {
                    quantity++;
                }

                quantityElement.textContent = quantity;
            });
        });

        // Update Cart
        function updateCart() {
            const cartItemsContainer = document.getElementById('cart-items');
            subtotal = 0;

            if (cart.length === 0) {
                cartItemsContainer.innerHTML = `
                    <div class="text-center py-10">
                        <img src="IMG/CarrinhoDesktop.png" alt="Carrinho" class="w-20 h-20 object-contain" loading="lazy">
                        <p class="text-gray-500">Seu carrinho está vazio</p>
                    </div>
                `;
                cartCounts.forEach(span => span.textContent = '0');
            } else {
                cartItemsContainer.innerHTML = '';
                cart.forEach((item, index) => {
                    const itemTotal = item.price * item.quantity;
                    subtotal += itemTotal;

                    const cartItem = document.createElement('div');
                    cartItem.className = 'flex justify-between items-center py-3 border-b';
                    cartItem.innerHTML = `
                        <div class="flex-1">
                            <h4 class="font-medium">${item.name}</h4>
                            <div class="flex items-center mt-1">
                                <button class="edit-quantity mr-2 text-xs text-gray-500 hover:text-[#5C4033]" data-index="${index}">
                                    <i class="fas fa-edit mr-1"></i>Editar
                                </button>
                                <button class="remove-item text-xs text-red-500 hover:text-red-700" data-index="${index}">
                                    <i class="fas fa-trash-alt mr-1"></i>Remover
                                </button>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="font-medium">R$ ${item.price.toFixed(2).replace('.', ',')}</div>
                            <div class="text-sm">x${item.quantity}</div>
                            <div class="font-bold">R$ ${itemTotal.toFixed(2).replace('.', ',')}</div>
                        </div>
                    `;
                    cartItemsContainer.appendChild(cartItem);
                });

                cartCounts.forEach(span => span.textContent = cart.reduce((total, item) => total + item.quantity, 0));

                // Add event listeners to new buttons
                document.querySelectorAll('.remove-item').forEach(button => {
                    button.addEventListener('click', function () {
                        const index = parseInt(this.getAttribute('data-index'));
                        cart.splice(index, 1);
                        updateCart();
                    });
                });

                document.querySelectorAll('.edit-quantity').forEach(button => {
                    button.addEventListener('click', function () {
                        const index = parseInt(this.getAttribute('data-index'));
                        const item = cart[index];
                        const newQuantity = prompt(`Quantidade de ${item.name}:`, item.quantity);

                        if (newQuantity !== null && !isNaN(newQuantity) && parseInt(newQuantity) > 0) {
                            item.quantity = parseInt(newQuantity);
                            updateCart();
                        }
                    });
                });
            }

            document.getElementById('subtotal').textContent = `R$ ${subtotal.toFixed(2).replace('.', ',')}`;
            document.getElementById('total').textContent = `R$ ${(subtotal + deliveryFee).toFixed(2).replace('.', ',')}`;
        }

        // Checkout
        checkoutBtn.addEventListener('click', () => {
            

            Cart.toggleCart();
            checkoutModal.classList.remove('hidden');
            document.body.classList.add('overflow-hidden');
        });

        closeCheckoutBtn.addEventListener('click', () => {
            checkoutModal.classList.add('hidden');
            document.body.classList.remove('overflow-hidden');
        });

        // Form Submission
        checkoutForm.addEventListener('submit', (e) => {
            e.preventDefault();

            const name = document.getElementById('name').value;
            const phone = document.getElementById('phone').value;
            const address = document.getElementById('address').value;
            const payment = document.querySelector('input[name="payment"]:checked').value;

            // Generate order summary
            let orderSummary = `
                <p><strong>Cliente:</strong> ${name}</p>
                <p><strong>Telefone:</strong> ${phone}</p>
                <p><strong>Endereço:</strong> ${address}</p>
                <p><strong>Pagamento:</strong> ${payment}</p>
                <hr class="my-2">
                <p class="font-bold mb-1">Itens do Pedido:</p>
                <ul class="list-disc pl-5 mb-2">
            `;

            cart.forEach(item => {
                orderSummary += `<li>${item.quantity}x ${item.name} - R$ ${(item.price * item.quantity).toFixed(2).replace('.', ',')}</li>`;
            });

            orderSummary += `
                </ul>
                <hr class="my-2">
                <p><strong>Subtotal:</strong> R$ ${subtotal.toFixed(2).replace('.', ',')}</p>
                <p><strong>Taxa de Entrega:</strong> R$ ${deliveryFee.toFixed(2).replace('.', ',')}</p>
                <p class="font-bold"><strong>Total:</strong> R$ ${(subtotal + deliveryFee).toFixed(2).replace('.', ',')}</p>
            `;

            orderDetails.innerHTML = orderSummary;

            // Generate WhatsApp message
            let whatsappMessage = `Olá Vovó Lulu! Gostaria de fazer um pedido:\n\n`;
            whatsappMessage += `*Nome:* ${name}\n`;
            whatsappMessage += `*Telefone:* ${phone}\n`;
            whatsappMessage += `*Endereço:* ${address}\n`;
            whatsappMessage += `*Forma de Pagamento:* ${payment}\n\n`;
            whatsappMessage += `*Itens do Pedido:*\n`;

            cart.forEach(item => {
                whatsappMessage += `- ${item.quantity}x ${item.name} - R$ ${(item.price * item.quantity).toFixed(2).replace('.', ',')}\n`;
            });

            whatsappMessage += `\n*Subtotal:* R$ ${subtotal.toFixed(2).replace('.', ',')}\n`;
            whatsappMessage += `*Taxa de Entrega:* R$ ${deliveryFee.toFixed(2).replace('.', ',')}\n`;
            whatsappMessage += `*Total:* R$ ${(subtotal + deliveryFee).toFixed(2).replace('.', ',')}\n\n`;
            whatsappMessage += `Por favor, confirmem meu pedido! Obrigado!`;

            whatsappBtn.href = `https://wa.me/5511953717180?text=${encodeURIComponent(whatsappMessage)}`;

            checkoutModal.classList.add('hidden');
            confirmationModal.classList.remove('hidden');
        });

        closeConfirmationBtn.addEventListener('click', () => {
            confirmationModal.classList.add('hidden');
            document.body.classList.remove('overflow-hidden');

            // Clear cart after order is confirmed
            cart = [];
            updateCart();

            // Reset form
            checkoutForm.reset();
        });
    </script>
<div class="fixed bottom-0 left-0 w-full bg-[#5C4033] text-[#FCEBD5] flex justify-around items-center py-2 shadow-inner md:hidden z-50">
<a class="flex flex-col items-center text-xs hover:text-[#F4A261]" href="#todos">
<img alt="Inicio" class="w-7 h-7 object-contain" loading="lazy" src="IMG/Inicio.png"/>
            Início
        </a>
<a class="flex flex-col items-center text-xs hover:text-[#F4A261]" href="#assados">
<img alt="Assados" class="w-7 h-7 object-contain" loading="lazy" src="IMG/Assados.png"/>
            Assados
        </a>
<a class="flex flex-col items-center text-xs hover:text-[#F4A261]" href="#fritos">
<img alt="Fritos" class="w-7 h-7 object-contain" loading="lazy" src="IMG/Fritos.png"/>
            Fritos
        </a>
<a class="flex flex-col items-center text-xs hover:text-[#F4A261]" href="#bebidas">
<img alt="Bebidas" class="w-7 h-7 object-contain" loading="lazy" src="IMG/Bebidas.png"/>
            Bebidas
        </a>
<a class="flex flex-col items-center text-xs hover:text-[#F4A261]" href="#combos">
<img alt="Combos" class="w-7 h-7 object-contain" loading="lazy" src="IMG/Combos.png"/>
            Combos
        </a>
<a class="flex flex-col items-center text-xs hover:text-[#F4A261] cart-btn" href="#" id="mobile-cart-btn">
<span class="relative inline-block">
<img alt="Carrinho" class="w-7 h-7 object-contain" loading="lazy" src="IMG/Carrinho.png"/>
<span class="absolute -top-2 -right-3 bg-[#E63946] text-white rounded-full w-5 h-5 flex items-center justify-center text-xs cart-count">0</span>
</span>
            Carrinho
        </a>
</div>
<!-- Modal de sabores (Refrigerante 350ml) -->
<div class="fixed inset-0 z-[60] hidden" id="refri-modal">
<!-- overlay -->
<div class="absolute inset-0 bg-black bg-opacity-50"></div>
<!-- container to center -->
<div class="relative z-[61] flex items-start justify-center min-h-screen p-4">
<div class="w-full max-w-md bg-white rounded-2xl shadow-xl p-6 relative">
<button aria-label="Fechar" class="absolute top-3 right-3 text-gray-500 hover:text-gray-700" id="close-refri-modal">
<i class="fas fa-times text-2xl"></i>
</button>
<h2 class="title-font text-2xl font-bold mb-4">Escolha os Sabores</h2>
<form class="space-y-3" id="refri-form">
<div class="flex items-center justify-between p-3 rounded-lg border bg-white">
<span>Coca Cola</span>
<div class="flex items-center">
<button class="refri-minus bg-[#5C4033] text-white w-8 h-8 rounded-l-full" data-flavor="Coca Cola" type="button">-</button>
<span class="refri-qty bg-[#FCEBD5] w-10 h-8 flex items-center justify-center" data-flavor="Coca Cola">0</span>
<button class="refri-plus bg-[#5C4033] text-white w-8 h-8 rounded-r-full" data-flavor="Coca Cola" type="button">+</button>
</div>
</div>
<div class="flex items-center justify-between p-3 rounded-lg border bg-white">
<span>Coca-cola Zero</span>
<div class="flex items-center">
<button class="refri-minus bg-[#5C4033] text-white w-8 h-8 rounded-l-full" data-flavor="Coca-cola Zero" type="button">-</button>
<span class="refri-qty bg-[#FCEBD5] w-10 h-8 flex items-center justify-center" data-flavor="Coca-cola Zero">0</span>
<button class="refri-plus bg-[#5C4033] text-white w-8 h-8 rounded-r-full" data-flavor="Coca-cola Zero" type="button">+</button>
</div>
</div>
<div class="flex items-center justify-between p-3 rounded-lg border bg-white">
<span>Fanta Laranja</span>
<div class="flex items-center">
<button class="refri-minus bg-[#5C4033] text-white w-8 h-8 rounded-l-full" data-flavor="Fanta Laranja" type="button">-</button>
<span class="refri-qty bg-[#FCEBD5] w-10 h-8 flex items-center justify-center" data-flavor="Fanta Laranja">0</span>
<button class="refri-plus bg-[#5C4033] text-white w-8 h-8 rounded-r-full" data-flavor="Fanta Laranja" type="button">+</button>
</div>
</div>
<div class="flex items-center justify-between p-3 rounded-lg border bg-white">
<span>Fanta Uva</span>
<div class="flex items-center">
<button class="refri-minus bg-[#5C4033] text-white w-8 h-8 rounded-l-full" data-flavor="Fanta Uva" type="button">-</button>
<span class="refri-qty bg-[#FCEBD5] w-10 h-8 flex items-center justify-center" data-flavor="Fanta Uva">0</span>
<button class="refri-plus bg-[#5C4033] text-white w-8 h-8 rounded-r-full" data-flavor="Fanta Uva" type="button">+</button>
</div>
</div>
<div class="flex items-center justify-between p-3 rounded-lg border bg-white">
<span>Guaraná Antarctica</span>
<div class="flex items-center">
<button class="refri-minus bg-[#5C4033] text-white w-8 h-8 rounded-l-full" data-flavor="Guaraná Antarctica" type="button">-</button>
<span class="refri-qty bg-[#FCEBD5] w-10 h-8 flex items-center justify-center" data-flavor="Guaraná Antarctica">0</span>
<button class="refri-plus bg-[#5C4033] text-white w-8 h-8 rounded-r-full" data-flavor="Guaraná Antarctica" type="button">+</button>
</div>
</div>
<button class="mt-4 w-full bg-[#3C6E47] opacity-50 cursor-not-allowed text-white py-3 rounded-full font-semibold transition" disabled="" id="refri-add" type="submit">
          Adicionar ao Carrinho
        </button>
</form>
</div>
</div>
</div>
<script>
document.addEventListener('DOMContentLoaded', () => {
  const modal = document.getElementById('refri-modal');
  const form = document.getElementById('refri-form');
  const addBtn = document.getElementById('refri-add');
  const closeBtn = document.getElementById('close-refri-modal');
  
  const price = 6.50;

  // open modal
  //Cart.updateCart();
  document.querySelectorAll('.product-card .choose-flavor').forEach(btn => {
    btn.addEventListener('click', () => {
      modal.classList.remove('hidden');
      document.body.classList.add('overflow-hidden');
      form.querySelectorAll('.refri-qty').forEach(el => el.textContent = '0');
      updateAddState();
    });
  });

  function closeModal() {
    modal.classList.add('hidden');
    document.body.classList.remove('overflow-hidden');
    form.querySelectorAll('.refri-qty').forEach(el => el.textContent = '0');
    updateAddState();
  }

  if (closeBtn) closeBtn.addEventListener('click', closeModal);
  modal.addEventListener('click', (e) => {
    // first child is the dark overlay
    if (e.target === modal.firstElementChild) closeModal();
  });

  form.addEventListener('click', (e) => {
    const minus = e.target.closest('.refri-minus');
    const plus  = e.target.closest('.refri-plus');
    if (!minus && !plus) return;
    const flavor = (minus || plus).getAttribute('data-flavor');
    const qtyEl = form.querySelector(`.refri-qty[data-flavor="${CSS.escape(flavor)}"]`);
    let q = parseInt(qtyEl.textContent) || 0;
    if (minus) q = Math.max(0, q - 1);
    if (plus) q = q + 1;
    qtyEl.textContent = String(q);
    updateAddState();
  });

  function updateAddState() {
    const sum = Array.from(form.querySelectorAll('.refri-qty'))
      .map(el => parseInt(el.textContent) || 0)
      .reduce((a,b) => a + b, 0);
    const enable = sum > 0;
    addBtn.disabled = !enable;
    addBtn.classList.toggle('opacity-50', !enable);
    addBtn.classList.toggle('cursor-not-allowed', !enable);
  }

  form.addEventListener('submit', (e) => {
      e.preventDefault();
      const items = Array.from(form.querySelectorAll('.refri-qty'))
      .map(el => ({ flavor: el.getAttribute('data-flavor'), qty: parseInt(el.textContent) || 0 }))
      .filter(it => it.qty > 0);
      
      if (items.length === 0){console.log("items lenght===0");return;}
      
      items.forEach(({flavor, qty}) => {
          if (window.Cart && typeof Cart.addItem === 'function') {
              Cart.addItem({ name: `Refrigerante 350ml - ${flavor}`, price, quantity: qty });
              
            }
    });
    closeModal();
    //Cart.updateCart;
  });
});
</script>
<script>
(function(){
  const cards = document.querySelectorAll('.product-card');
  const categoryLinks = document.querySelectorAll('.category-card');

  function applyFilter(filter) {
    const f = (filter || 'todos').toLowerCase();
    categoryLinks.forEach(a => {
      const active = a.dataset.filter === f;
      a.classList.toggle('ring-2', active);
      a.classList.toggle('ring-[#5C4033]', active);
    });
    cards.forEach(card => {
      const cat = (card.getAttribute('data-categoria') || '').toLowerCase();
      const show = f === 'todos' ? true : (cat === f);
      card.style.display = show ? '' : 'none';
    });
    if (f === 'todos') history.replaceState(null, '', '#todos');
    else history.replaceState(null, '', '#' + f);
  }

  categoryLinks.forEach(a => {
    a.addEventListener('click', function(e){
      e.preventDefault();
      applyFilter(this.dataset.filter);
    });
  });

  function initFromHash(){
    const allowed = ['todos','assados','fritos','combos','bebidas'];
    const h = (location.hash || '#todos').replace('#','').toLowerCase();
    applyFilter(allowed.includes(h) ? h : 'todos');
  }

  window.addEventListener('hashchange', initFromHash);
  initFromHash();
})();
</script>
<script>
(function(){
  const categoryLinks = document.querySelectorAll('.category-card');
  const sections = document.querySelectorAll('section[data-section]');

  const map = {
    'todos': ['destaques','assados','fritos','combos','bebidas'],
    'assados': ['assados'],
    'fritos': ['fritos'],
    'combos': ['combos'],
    'bebidas': ['bebidas']
  };

  function showSections(keys){
    const set = new Set(keys);
    sections.forEach(sec => {
      const k = sec.getAttribute('data-section');
      sec.style.display = set.has(k) ? '' : 'none';
    });
  }

  function highlightActive(filter){
    const f = filter.toLowerCase();
    const links = document.querySelectorAll('.category-card');
    links.forEach(a => {
      const active = (a.dataset.filter || '').toLowerCase() === f;
      a.classList.toggle('ring-2', active);
      a.classList.toggle('ring-[#5C4033]', active);
    });
  }

  function applyFilter(filter){
    const f = (filter || 'todos').toLowerCase();
    const keys = map[f] || map['todos'];
    showSections(keys);
    highlightActive(f);
    if (f === 'todos') history.replaceState(null, '', '#todos');
    else history.replaceState(null, '', '#' + f);
  }

  // Desktop cards (category tiles)
  document.querySelectorAll('.category-card').forEach(a => {
    a.addEventListener('click', function(e){
      e.preventDefault();
      applyFilter(this.dataset.filter);
    });
  });

  // Deep-link init (also works with mobile bar)
  function fromHash(){
    const allowed = ['todos','assados','fritos','combos','bebidas'];
    const h = (location.hash || '#todos').replace('#','').toLowerCase();
    applyFilter(allowed.includes(h) ? h : 'todos');
  }
  window.addEventListener('hashchange', fromHash);
  fromHash();
})();
</script>
<!-- Modal: Combo 40 Salgados 10g -->
<div class="fixed inset-0 z-[60] hidden" id="combo40-modal">
<div class="absolute inset-0 bg-black bg-opacity-50" data-overlay="combo40"></div>
<div class="relative z-[61] flex items-start justify-center min-h-screen p-4">
<div class="w-full max-w-md bg-white rounded-2xl shadow-xl p-6 relative">
<button aria-label="Fechar" class="absolute top-3 right-3 text-gray-500 hover:text-gray-700" id="close-combo40-modal">
<i class="fas fa-times text-2xl"></i>
</button>
<h2 class="title-font text-2xl font-bold mb-1">Monte seu Combo (40 unidades)</h2>
<p class="text-sm text-gray-600 mb-4">Adicione de 5 em 5 por sabor. <span class="font-semibold" id="combo40-counter">Selecionados: 0/40</span></p>
<form class="space-y-3" id="combo40-form">
<div class="flex items-center justify-between p-3 rounded-lg border bg-white">
<span>Coxinha</span>
<div class="flex items-center">
<button class="combo40-minus bg-[#5C4033] text-white w-8 h-8 rounded-l-full" data-flavor="Coxinha" type="button">-</button>
<span class="combo40-qty bg-[#FCEBD5] w-12 h-8 flex items-center justify-center" data-flavor="Coxinha">0</span>
<button class="combo40-plus bg-[#5C4033] text-white w-8 h-8 rounded-r-full" data-flavor="Coxinha" type="button">+</button>
</div>
</div>
<div class="flex items-center justify-between p-3 rounded-lg border bg-white">
<span>Bolinho de Queijo</span>
<div class="flex items-center">
<button class="combo40-minus bg-[#5C4033] text-white w-8 h-8 rounded-l-full" data-flavor="Bolinho de Queijo" type="button">-</button>
<span class="combo40-qty bg-[#FCEBD5] w-12 h-8 flex items-center justify-center" data-flavor="Bolinho de Queijo">0</span>
<button class="combo40-plus bg-[#5C4033] text-white w-8 h-8 rounded-r-full" data-flavor="Bolinho de Queijo" type="button">+</button>
</div>
</div>
<div class="flex items-center justify-between p-3 rounded-lg border bg-white">
<span>Enroladinha de Salsicha</span>
<div class="flex items-center">
<button class="combo40-minus bg-[#5C4033] text-white w-8 h-8 rounded-l-full" data-flavor="Enroladinha de Salsicha" type="button">-</button>
<span class="combo40-qty bg-[#FCEBD5] w-12 h-8 flex items-center justify-center" data-flavor="Enroladinha de Salsicha">0</span>
<button class="combo40-plus bg-[#5C4033] text-white w-8 h-8 rounded-r-full" data-flavor="Enroladinha de Salsicha" type="button">+</button>
</div>
</div>
<div class="flex items-center justify-between p-3 rounded-lg border bg-white">
<span>Risoles</span>
<div class="flex items-center">
<button class="combo40-minus bg-[#5C4033] text-white w-8 h-8 rounded-l-full" data-flavor="Risoles" type="button">-</button>
<span class="combo40-qty bg-[#FCEBD5] w-12 h-8 flex items-center justify-center" data-flavor="Risoles">0</span>
<button class="combo40-plus bg-[#5C4033] text-white w-8 h-8 rounded-r-full" data-flavor="Risoles" type="button">+</button>
</div>
</div>
<div class="flex items-center justify-between p-3 rounded-lg border bg-white">
<span>Calabresa</span>
<div class="flex items-center">
<button class="combo40-minus bg-[#5C4033] text-white w-8 h-8 rounded-l-full" data-flavor="Calabresa" type="button">-</button>
<span class="combo40-qty bg-[#FCEBD5] w-12 h-8 flex items-center justify-center" data-flavor="Calabresa">0</span>
<button class="combo40-plus bg-[#5C4033] text-white w-8 h-8 rounded-r-full" data-flavor="Calabresa" type="button">+</button>
</div>
</div>
<div class="flex items-center justify-between p-3 rounded-lg border bg-white">
<span>Bolinha de Carne</span>
<div class="flex items-center">
<button class="combo40-minus bg-[#5C4033] text-white w-8 h-8 rounded-l-full" data-flavor="Bolinha de Carne" type="button">-</button>
<span class="combo40-qty bg-[#FCEBD5] w-12 h-8 flex items-center justify-center" data-flavor="Bolinha de Carne">0</span>
<button class="combo40-plus bg-[#5C4033] text-white w-8 h-8 rounded-r-full" data-flavor="Bolinha de Carne" type="button">+</button>
</div>
</div>
<button class="mt-4 w-full bg-[#3C6E47] opacity-50 cursor-not-allowed text-white py-3 rounded-full font-semibold transition" disabled="" id="combo40-add" type="submit">
          Adicionar ao Carrinho
        </button>
</form>
</div>
</div>
</div>
<script>
document.addEventListener('DOMContentLoaded', () => {
  const modal = document.getElementById('combo40-modal');
  const form = document.getElementById('combo40-form');
  const addBtn = document.getElementById('combo40-add');
  const closeBtn = document.getElementById('close-combo40-modal');
  const counterEl = document.getElementById('combo40-counter');
  const MAX = 40;
  const STEP = 5;
  const price = 35.90;

  // Open modal buttons
  document.querySelectorAll('.product-card .choose-combo40').forEach(btn => {
    btn.addEventListener('click', () => {
      modal.classList.remove('hidden');
      document.body.classList.add('overflow-hidden');
      // reset quantities
      form.querySelectorAll('.combo40-qty').forEach(el => el.textContent = '0');
      updateState();
    });
  });

  function closeModal() {
    modal.classList.add('hidden');
    document.body.classList.remove('overflow-hidden');
    // reset as well
    form.querySelectorAll('.combo40-qty').forEach(el => el.textContent = '0');
    updateState();
  }

  if (closeBtn) closeBtn.addEventListener('click', closeModal);
  // Close on overlay click
  modal.addEventListener('click', (e) => {
    if (e.target && e.target.matches('[data-overlay="combo40"]')) closeModal();
  });

  // Plus/Minus logic
  form.addEventListener('click', (e) => {
    const minus = e.target.closest('.combo40-minus');
    const plus  = e.target.closest('.combo40-plus');
    if (!minus && !plus) return;
    const flavor = (minus || plus).getAttribute('data-flavor');
    const qtyEl = form.querySelector('.combo40-qty[data-flavor="' + CSS.escape(flavor) + '"]');
    let q = parseInt(qtyEl.textContent) || 0;
    const currentTotal = getTotal();
    if (minus) {
      q = Math.max(0, q - STEP);
    } else if (plus) {
      if (currentTotal + STEP > MAX) return;
      q = q + STEP;
    }
    qtyEl.textContent = String(q);
    updateState();
  });

  function getTotal() {
    return Array.from(form.querySelectorAll('.combo40-qty'))
      .map(el => parseInt(el.textContent) || 0)
      .reduce((a, b) => a + b, 0);
  }

  function updateState() {
    const sum = getTotal();
    addBtn.disabled = (sum !== MAX);
    addBtn.classList.toggle('opacity-50', sum !== MAX);
    addBtn.classList.toggle('cursor-not-allowed', sum !== MAX);
    if (counterEl) counterEl.textContent = 'Selecionados: ' + sum + '/' + MAX;
  }

  form.addEventListener('submit', (e) => {
    e.preventDefault();
    const total = getTotal();
    if (total !== MAX) return;

    const items = Array.from(form.querySelectorAll('.combo40-qty'))
      .map(el => ({ flavor: el.getAttribute('data-flavor'), qty: parseInt(el.textContent) || 0 }))
      .filter(it => it.qty > 0);

    const breakdown = items.map(it => it.qty + ' ' + it.flavor).join(', ');
    const name = 'Combo 40 salgados 10g (' + breakdown + ')';

    if (window.Cart && typeof Cart.addItem === 'function') {
      Cart.addItem({ name: name, price: price, quantity: 1 });
    }
    closeModal();
  });
});
</script>
<script>
// Fecha o carrinho quando o usuário navega pelos botões da barra mobile
document.addEventListener('DOMContentLoaded', function(){
  function closeCartIfOpen(){
    if (window.Cart && typeof Cart.close === 'function') {
      Cart.close();
    } else {
      // fallback: esconde overlay e sidebar, caso o objeto Cart não esteja disponível
      var overlay = document.getElementById('overlay');
      var sidebar = document.getElementById('cart-sidebar');
      if (overlay) overlay.classList.add('hidden');
      if (sidebar) {
        sidebar.classList.remove('cart-open');
        sidebar.classList.add('cart-closed');
      }
      document.body.classList.remove('overflow-hidden');
    }
  }

  // Clique em qualquer link da barra mobile (exceto o Carrinho)
  document.addEventListener('click', function(e){
    var link = e.target.closest('a');
    if (!link) return;

    // Está dentro da barra inferior (md:hidden + fixed bottom-0)?
    var bar = link.closest('div');
    var isMobileBar = false;
    if (bar && bar.classList) {
      isMobileBar = bar.classList.contains('md:hidden') && bar.classList.contains('fixed') && bar.classList.contains('bottom-0');
    }
    if (!isMobileBar) return;

    // Ignora o próprio botão do carrinho
    if (link.id === 'mobile-cart-btn' || link.classList.contains('cart-btn')) return;

    // Em mobile, fechar o carrinho antes de aplicar o filtro
    if (window.matchMedia('(max-width: 767.98px)').matches) {
      closeCartIfOpen();
    }
  }, true);

  // Failsafe: ao trocar o hash (ex.: via deep-link manual), fecha no mobile
  window.addEventListener('hashchange', function(){
    if (window.matchMedia('(max-width: 767.98px)').matches) {
      closeCartIfOpen();
    }
  });
});
</script>

<!-- Mobile Menu (drawer like cart; does not cover bottom bar) -->
<div class="md:hidden" id="mobile-menu-root">
<div class="fixed inset-x-0 top-0 bottom-16 bg-black bg-opacity-50 hidden z-[70]" data-overlay="menu" id="menu-overlay"></div>
<aside class="fixed top-0 left-0 bottom-16 w-72 max-w-[80%] bg-white shadow-xl transform -translate-x-full transition-transform duration-300 ease-in-out z-[71] rounded-r-2xl overflow-y-auto" id="mobile-menu-panel">
<div class="p-6">
<div class="flex items-center justify-between mb-6">
<h2 class="title-font text-2xl font-bold text-[#5C4033]">Menu</h2>
<button aria-label="Fechar menu" class="text-gray-500 hover:text-gray-700" id="close-menu">
<i class="fas fa-times text-2xl"></i>
</button>
</div>
<nav class="flex flex-col gap-3 text-lg">
<a class="px-3 py-2 rounded-lg hover:bg-[#FCEBD5] text-[#5C4033]" href="index.html">Início</a>
<a class="px-3 py-2 rounded-lg hover:bg-[#FCEBD5] text-[#5C4033]" href="AboutUs.html">Sobre Nós</a>
</nav>
</div>
</aside>
</div>

<script>
document.addEventListener('DOMContentLoaded', function(){
  const menuBtn = document.getElementById('menu-btn');
  const menuOverlay = document.getElementById('menu-overlay');
  const menuPanel = document.getElementById('mobile-menu-panel');
  const closeMenuBtn = document.getElementById('close-menu');

  function isMobile(){ return window.matchMedia('(max-width: 767.98px)').matches; }

  function closeCartIfOpen(){
    if (window.Cart && typeof Cart.close === 'function') {
      Cart.close();
    } else {
      var overlay = document.getElementById('overlay');
      var sidebar = document.getElementById('cart-sidebar');
      if (overlay) overlay.classList.add('hidden');
      if (sidebar) {
        sidebar.classList.remove('cart-open');
        sidebar.classList.add('cart-closed');
      }
      document.body.classList.remove('overflow-hidden');
    }
  }

  function openMenu(){
    if (!isMobile()) return;
    closeCartIfOpen();
    if (menuOverlay) menuOverlay.classList.remove('hidden');
    if (menuPanel) menuPanel.classList.remove('-translate-x-full');
    document.body.classList.add('overflow-hidden');
  }

  function closeMenu(){
    if (menuOverlay) menuOverlay.classList.add('hidden');
    if (menuPanel) menuPanel.classList.add('-translate-x-full');
    document.body.classList.remove('overflow-hidden');
  }

  if (menuBtn) menuBtn.addEventListener('click', function(e){ e.preventDefault(); openMenu(); });

  if (menuOverlay) menuOverlay.addEventListener('click', closeMenu);
  if (closeMenuBtn) closeMenuBtn.addEventListener('click', closeMenu);
  document.querySelectorAll('#mobile-menu-panel a').forEach(function(a){ a.addEventListener('click', closeMenu); });
  document.addEventListener('keydown', function(e){ if (e.key === 'Escape') closeMenu(); });
  window.addEventListener('hashchange', function(){ if (isMobile()) closeMenu(); });
});
</script>
</body>
</html>